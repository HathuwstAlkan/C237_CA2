<h2 class="card-title mb-4">Create an Account</h2>

<div id="register-messages">
  <% if (typeof errors !== 'undefined' && errors && errors.length) { %>
    <div class="alert alert-danger" role="alert">
      <ul class="mb-0">
        <% errors.forEach(function(e){ %><li><%= e %></li><% }); %>
      </ul>
    </div>
  <% } else if (typeof messages !== 'undefined' && messages && messages.length) { %>
    <div class="alert alert-success" role="alert">
      <ul class="mb-0">
        <% messages.forEach(function(m){ %><li><%= m %></li><% }); %>
      </ul>
    </div>
  <% } %>
</div>

<form id="registerForm" action="/register" method="POST" class="mt-4">
  <div class="mb-3">
    <label for="username" class="form-label">Username:</label>
    <input
      type="text"
      class="form-control"
      id="username"
      name="username"
      value="<%= (typeof formData !== 'undefined' && formData && formData.username) ? formData.username : '' %>"
      required
    >
  </div>

  <div class="row">
    <div class="col-md-6 mb-3">
      <label for="first_name" class="form-label">First Name:</label>
      <input
        type="text"
        class="form-control"
        id="first_name"
        name="first_name"
        value="<%= (typeof formData !== 'undefined' && formData && formData.first_name) ? formData.first_name : '' %>"
        required
      >
    </div>
    <div class="col-md-6 mb-3">
      <label for="last_name" class="form-label">Last Name:</label>
      <input
        type="text"
        class="form-control"
        id="last_name"
        name="last_name"
        value="<%= (typeof formData !== 'undefined' && formData && formData.last_name) ? formData.last_name : '' %>"
        required
      >
    </div>
  </div>

  <div class="mb-3">
    <label for="email" class="form-label">Email:</label>
    <input
      type="email"
      class="form-control"
      id="email"
      name="email"
      value="<%= (typeof formData !== 'undefined' && formData && formData.email) ? formData.email : '' %>"
      required
    >
  </div>

  <div class="mb-3">
    <label for="password" class="form-label">Password:</label>
    <input
      type="password"
      class="form-control"
      id="password"
      name="password"
      required
    >
  </div>

  <div class="mb-3">
    <label for="phone_number" class="form-label">Phone Number (8 digits):</label>
    <input
      type="text"
      class="form-control"
      id="phone_number"
      name="phone_number"
      inputmode="numeric"
      pattern="^\d{8}$"
      maxlength="8"
      placeholder="e.g., 91234567"
      value="<%= (typeof formData !== 'undefined' && formData && formData.phone_number) ? formData.phone_number : '' %>"
    >
  </div>

  <div class="mb-3">
    <label for="address" class="form-label">Address:</label>
    <input
      type="text"
      class="form-control"
      id="address"
      name="address"
      value="<%= (typeof formData !== 'undefined' && formData && formData.address) ? formData.address : '' %>"
    >
  </div>

  <button type="submit" class="btn btn-outline-custom w-100">Sign Up</button>
</form>

<button id="backToMainButtons" class="btn btn-link text-black-50 mt-3">Back</button>
